# Algoritm forecasting Power Consumption in Tatarstan 2024 (XGBoost only)

В этой ветке:
1) Данные о потреблении получены **напрямую** от АО "Татэнергосбыт"
2) Скрипт адаптирован под работу на РСВ

В этой версии (`daily_forecast_Tatarstan_XGBoost.ipynb`):
1) 24-й час переконвертирован в 0-й (под DataTime-формат)
2) Решена проблема с экстраполяцией температуры (задействован 0-й час следующих суток в процессе интерполяции)
3) Столбец `Date` больше не удаляется из базы данных (используется для слияние погодной и "потребительских" таблиц)
4) Добавлена функция `get_empty_daily_df(date)` для формирования пустого датафрейма на указанную дату (25 строк: с 0:00 до 0:00)
5) Добавлена функция `add_date_scalar(df)` для заполнения датафрейма категориальными (календарными) признаками от DataTime-объекта
6) Добавлена функция `get_weather(date)` для получения датафрейма с архивом/прогнозом погоды на указанную дату (24 строки: с 1:00 до 0:00)
7) Реализована возможность пополнения БД оперативными данными (xlsx-файл, *приложение 2*) с актуальными (архивными, а не прогнозными) сведениями о погоде

Дальнейшая работа:
1) добавить процесс формирования прогнозной выборки-пустышки
2) использовать наработки из `volume_energy_analisys_XGBoost.ipynb` для заполнения выборки-пустышки прогнозными значениями
3) продумать систему оценки качества модели

В предыдущей версии (`volume_energy_analisys_XGBoost.ipynb`):
1) Архивная база данных о погоде получена через ресурс https://kazan.nuipogoda.ru
2) Валидация выполнена из расчета доступа к данным на 11 утра -1 суток до дня прогнозирования
3) Усредненный результат по валидационной выборке (01.01.24-28.05.24): 1.53% (40.47 МВт)
4) По месяцам: 
- January 2024 MAPE: 1.646%
- February 2024 MAPE: 1.074%
- March 2024 MAPE: 1.086%
- April 2024 MAPE: 1.693%
- May 2024 MAPE: 2.202%